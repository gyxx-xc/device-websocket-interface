<!DOCTYPE HTML>
<html style="height:100%;touch-action: none;" xmlns="http://www.w3.org/1999/html">
  <head>
    <meta charset="utf-8">
    <title>t</title>

    <script type="text/javascript">
      var ws;
      function start() {
        WebSocketStart();
        initControl();
      }
      function WebSocketStart() {
        if ("WebSocket" in window) {
          ws = new WebSocket("ws://localhost");
        } else {
          alert("您的浏览器不支持 WebSocket!");
        }
      }
      function initControl() {
        var StartEvt;
        var moveEvt;
        var endEvt;
        if("ontouchstart" in window) {
          document.addEventListener("touchstart", getTouchPos);
          document.addEventListener("touchmove", getTouchPos);
        } else {
          document.addEventListener("mousedown", getMousePos);
        }
      }
      function getTouchPos(event) {
        var e = event || window.event;
        document.getElementById("q").textContent =
          (e.touches[0].pageY + ' ' + e.touches[0].pageX);
        ws.send(e.touches[0].pageY + ' ' + e.touches[0].pageX);
      }
      function getMousePos(event) {
        var e = event || window.event;
        document.getElementById("q").textContent =
          (e.pageY + ' ' + e.pageX);
        ws.send(e.pageY + ' ' + e.pageX);
      }
    </script>

  </head>
  <body onload = "start()" style="height:100%">
    <p id="q">098</p>
    <img src="/media/cc0-images/grapefruit-slice-332-332.jpg"/>
  </body>
</html>
